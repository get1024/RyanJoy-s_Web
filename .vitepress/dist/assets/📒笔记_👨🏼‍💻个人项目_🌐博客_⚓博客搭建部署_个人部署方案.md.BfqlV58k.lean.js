import{_ as s,o as d,c,j as t,a as i,G as e,a3 as g,B as l}from"./chunks/framework.BulN5com.js";const m=JSON.parse('{"title":"个人部署方案","description":"","frontmatter":{"title":"个人部署方案","createAt":"2025-01-29T18:26:51.000Z","updateAt":"2025-01-29T20:30:59.000Z"},"headers":[],"relativePath":"📒笔记/👨🏼‍💻个人项目/🌐博客/⚓博客搭建部署/个人部署方案.md","filePath":"📒笔记/👨🏼‍💻个人项目/🌐博客/⚓博客搭建部署/个人部署方案.md","lastUpdated":1738200577000}'),y={name:"📒笔记/👨🏼‍💻个人项目/🌐博客/⚓博客搭建部署/个人部署方案.md"};function p(j,o,u,b,M,h){const r=l("ArticleMetadata"),a=l("NolebaseGitContributors"),n=l("NolebaseGitChangelog");return d(),c("div",{"data-pagefind-body":!0,"data-pagefind-meta":"base64:JTdCJTIydGl0bGUlMjIlM0ElMjIlRTQlQjglQUElRTQlQkElQkElRTklODMlQTglRTclQkQlQjIlRTYlOTYlQjklRTYlQTElODglMjIlMkMlMjJjcmVhdGVBdCUyMiUzQSUyMjIwMjUtMDEtMjlUMTglM0EyNiUzQTUxLjAwMFolMjIlMkMlMjJ1cGRhdGVBdCUyMiUzQSUyMjIwMjUtMDEtMjlUMjAlM0EzMCUzQTU5LjAwMFolMjIlMkMlMjJkYXRlJTIyJTNBMTczODIwMDU3NzAwMCU3RA=="},[o[0]||(o[0]=t("h1",{id:"个人部署方案",tabindex:"-1"},[i("个人部署方案 "),t("a",{class:"header-anchor",href:"#个人部署方案","aria-label":'Permalink to "个人部署方案"'},"​")],-1)),e(r),o[1]||(o[1]=g('<h2 id="切换域名" tabindex="-1">切换域名 <a class="header-anchor" href="#切换域名" aria-label="Permalink to &quot;切换域名&quot;">​</a></h2><p>需要在 <strong>Cloudflare、Vercel 和 腾讯云</strong> 三个地方进行调整，以完成 <strong>VitePress 站点域名从 <code>ryanjoy.top</code> 迁移到 <code>blog.ryanjoy.top</code></strong> 的操作。</p><h3 id="在-cloudflare-添加-blog-ryanjoy-top-解析" tabindex="-1">在 Cloudflare 添加 <code>blog.ryanjoy.top</code> 解析 <a class="header-anchor" href="#在-cloudflare-添加-blog-ryanjoy-top-解析" aria-label="Permalink to &quot;在 Cloudflare 添加 `blog.ryanjoy.top` 解析&quot;">​</a></h3><p>Cloudflare 负责 DNS 解析，因此我们需要在 <strong>Cloudflare</strong> 里添加新的 <code>CNAME</code> 记录：</p><ol><li><strong>进入 Cloudflare 控制台</strong>，选择 <code>ryanjoy.top</code> 域名。</li><li><strong>切换到 “DNS” 选项卡</strong>。</li><li><strong>添加一条新的 <code>CNAME</code> 记录</strong>： <ul><li><strong>名称 (Name)</strong>：<code>blog</code></li><li><strong>目标 (Target)</strong>：<code>cname.vercel-dns.com</code></li><li><strong>代理状态 (Proxy status)</strong>：⚠ <strong>保持“DNS 仅” (灰色云朵) 状态，不要启用 Cloudflare 代理（橙色云朵）</strong>，否则可能会导致 Vercel 无法正确处理。</li></ul></li><li><strong>保存修改</strong>。</li></ol><h3 id="在-vercel-绑定-blog-ryanjoy-top-域名" tabindex="-1">在 Vercel 绑定 <code>blog.ryanjoy.top</code> 域名 <a class="header-anchor" href="#在-vercel-绑定-blog-ryanjoy-top-域名" aria-label="Permalink to &quot;在 Vercel 绑定 `blog.ryanjoy.top` 域名&quot;">​</a></h3><p>现在我们需要告诉 <strong>Vercel</strong>，我们的 VitePress 站点应该使用 <code>blog.ryanjoy.top</code></p><ol><li><strong>进入 <a href="https://vercel.com/" target="_blank" rel="noreferrer">Vercel 控制台</a></strong>，打开我们的 VitePress 项目。</li><li><strong>进入 “Settings” → “Domains”</strong> 页面。</li><li><strong>点击 “Add a Domain”</strong>，输入 <code>blog.ryanjoy.top</code>，然后点击 “Add”。</li><li><strong>Vercel 可能会提示我们需要配置 DNS 解析</strong>，但由于我们已经在 <strong>Cloudflare</strong> 添加了 <code>CNAME</code> 记录，理论上会自动检测成功。</li><li><strong>如果 Vercel 显示 &quot;Invalid Configuration&quot;</strong>： <ul><li>我们可以点击 <strong>&quot;View Instructions&quot;</strong>，按照 Vercel 提供的 CNAME 解析方式检查是否正确。</li><li>确保 Cloudflare 里 <code>blog.ryanjoy.top</code> 的 CNAME 解析 <strong>未启用 Cloudflare 代理</strong>（应该是 <strong>“DNS only”</strong>）。</li></ul></li></ol><h3 id="访问-blog-ryanjoy-top-验证是否生效" tabindex="-1">访问 <code>blog.ryanjoy.top</code> 验证是否生效 <a class="header-anchor" href="#访问-blog-ryanjoy-top-验证是否生效" aria-label="Permalink to &quot;访问 `blog.ryanjoy.top` 验证是否生效&quot;">​</a></h3><ul><li>在 <strong>浏览器中访问 <code>blog.ryanjoy.top</code></strong>，查看是否能够正确加载 VitePress 站点。</li><li>我们也可以在 <code>powershell</code> 使用 ** <code>nslookup blog.ryanjoy.top</code> 或 <code>ping blog.ryanjoy.top</code> ** 检查解析是否生效。</li><li>一般 DNS 解析 <strong>可能需要几分钟到 24 小时生效</strong>，如果访问不成功可以稍等一会儿。</li></ul><h3 id="🎯-总结" tabindex="-1">🎯 总结 <a class="header-anchor" href="#🎯-总结" aria-label="Permalink to &quot;🎯 总结&quot;">​</a></h3><ol><li><strong>Cloudflare</strong>：添加 <code>blog.ryanjoy.top</code> 的 CNAME，指向 <code>cname.vercel-dns.com</code>，并 <strong>关闭 Cloudflare 代理</strong>（使用“DNS 仅”）。</li><li><strong>Vercel</strong>：在项目里添加 <code>blog.ryanjoy.top</code> 作为自定义域名。</li></ol><p>这样，VitePress 站点就会成功迁移到 <code>blog.ryanjoy.top</code> 🎉。</p>',13)),e(a),e(n)])}const C=s(y,[["render",p]]);export{m as __pageData,C as default};
